<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home</title>
        <link rel="stylesheet" href="../Teams/teams.css">
        <link rel="stylesheet" href="all_fighter.css">
        <script src="../database/database.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    </head>

    <body id="menu_color">
        <header class="team_nav">
            <!-- Navigation links omitted for brevity -->
        </header>
        <main id='alls'>
            <div id="all_fight_conttt"></div>
        </main>
        <script>
            html = ''
            let databaseArr = database; // Ensure 'database' is defined in your JS file
            for (let player of databaseArr) {
                html += `
            <div class='all_fight_card'>
                <div id='all_top'>
                    <img id='player_img' src=${player.image}>
                    <p>${player.name}</p>
                    <p id='all_type'>${player.nen_type}</p>
                    <img id='elem_img' src=${player.elm}>
                </div>
                <div id='all_middle'>
                    <div class='all_stat'>
                        <div class="stat-box">
                            <p>Attack</p>
                            <span>${player.attack}</span>
                        </div>
                        <div class="stat-box">
                            <p>Defense</p>
                            <span>${player.defense}</span>
                        </div>
                        <div class="stat-box">
                            <p>Critical %</p>
                            <span>${player.critical}</span>
                        </div>
                        <div class="stat-box">
                            <p>Strength</p>
                            <span>${player.strength}</span>
                        </div>
                    </div>
                    <div class='all_stat'>
                        <div class="stat-box">
                            <p>Magic</p>
                            <span>${player.elm_attack}</span>
                        </div>
                        <div class="stat-box">
                            <p>M. Defense</p>
                            <span>${player.elm_defense}</span>
                        </div>
                        <div class="stat-box">
                            <p>Element</p>
                            <span>${player.elm_efficiency}</span>
                        </div>
                        <div class="stat-box">
                            <p>Potency</p>
                            <span>${player.potency}%</span>
                        </div>
                    </div>
                    <div class='all_stat'>
                        <div class="stat-box">
                            <p>HP</p>
                            <span>${player.hp}</span>
                        </div>
                        <div class="stat-box">
                            <p>Chakra</p>
                            <span>${player.chakra_rec}</span>
                        </div>
                        <div class="stat-box">
                            <p>Accuracy</p>
                            <span>${player.accuracy}</span>
                        </div>
                        <div class="stat-box">
                            <p>Evasion</p>
                            <span>${player.evasion}</span>
                        </div>
                    </div>
                </div>
                <button class="toggleButton">Show Details</button>
                <div class='all_bottom' style='display: none;'> <!-- Hide by default -->
                    <h4>NinJutsu</h4>
                    <p>${player.chakra_attack} - ${player.chakra_pow} Damage ${player.cost} cost</p>
                    <p>${player.ninjutsu} - ${player.ninjutsu_pow} Damage ${player.nin_cost} cost</p>
                    <h4>Nen Abilities</h4>
                    <p>${player.buff} Accuracy ${player.buff_acc}</p>
                    <p>${player.buff2} Accuracy ${player.buff2_acc}</p>
                </div>
            </div>
            `;
            }

            $('#all_fight_conttt').append(html);

            const buttons = document.querySelectorAll('.toggleButton');
            const allBottoms = document.querySelectorAll('.all_bottom');

            buttons.forEach((button, index) => {
                button.addEventListener('click', () => {
                    const allBottom = allBottoms[index]; // Get the corresponding bottom section

                    if (allBottom.style.display === 'none' || allBottom.style.display === '') {
                        allBottom.style.display = 'block'; // Show
                        button.textContent = 'Hide Details'; // Change button text
                    } else {
                        allBottom.style.display = 'none'; // Hide
                        button.textContent = 'Show Details'; // Change button text
                    }
                });
            });
        </script>
    </body>

</html>
